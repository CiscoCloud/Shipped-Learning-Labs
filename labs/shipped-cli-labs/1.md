# Shipped CLI

The Shipped CLI provides command line access to Shipped services, including most API and UI functions.  In addition, it provides commands for controlling your local environment, such as bootstrap, build, and test.
 
- <a href="#installation">Shipped Installation</a>
- <a href="2.md">Create A new Project</a>
- <a href="troubleshoot">Troubleshoot</a>
- <a href="log">LogFiles</a>
- <a href="usage">Usage</a>


## Supported platforms

The CLI supports OS X, Windows 7+, or any Debian based Linux distribution

<a name="installation"></a>
## Shipped  Installation

<table>
<tr><th>OS</th><th>Command</th></tr>
<tr><td>Linux</td><td valign="middle">curl -kL https://bintray.com/artifact/download/shippedrepos/shipped-install/test/port-management/linux/shipped-setup.sh | bash -s</td></tr>
<tr><td>Mac</td><td valign="middle">curl -kL https://bintray.com/artifact/download/shippedrepos/shipped-install/test/port-management/mac/shipped-setup.sh | bash -s</td></tr>
<tr><td>Windows</td><td>https://bintray.com/artifact/download/shippedrepos/shipped-install/test/port-management/windows/shipped-install.exe</td></tr>
</table>

Copy the command appropriate to your environment, paste it into a terminal window, and run it. for Windows you can directly download CLI from the link. The command downloads and runs a short script that prompts for an installation directory and downloads the Shipped CLI into that directory.  We strongly recommend the installation directory be part of your system path.

[Important] Please run shipped install ClI with root or administrator user privileges.

Shipped CLI first check your system for prerequisites needed for bootstap process. Appropriate version will installed for missing prerequisites.
If you are installing Shipped CLI first time on your machine following prerequisites will be installed.

1. Git 
2. Git Credential Manager (only for Windows)
3. Docker 
4. Docker-Compose
5. Docker machine 
6. Virtualbox

if any of these application is missing it will be installed by CLI automatically. 
![](posts/files/shipped-cli-labs/assets/cliinstall-start.png)
![](posts/files/shipped-cli-labs/assets/cliinstall-end.png)

<a name="troubleshoot"></a>
## Troubleshoot
1. In case CLI failed installed any of above applications.
   Please check your system if these application is already installed or partially installed with corrupt files. it is recommended to uninstall such application manually and retry shipped install again.
2. In case You are running with older Version of any prerequisite application.
   Shipped CLI check already install required application and their versions. if any of such application is found installed with lower version then needed. CLI will upgrade those application.
3. Not sure last CLI prerequisites installation status.
   Try Looking at the log files at following location.
        Windows: [Downloaded location of Shipped-Install.Exe]\Shipped-Install.log
        Mac/Linux: /tmp/Shipped-Install.log
    You also retry installation. it will only install missing prerequisite application else provide you the current installed applications.
3. Installed prerequisites successfully but failed to bootstrap Project. Error: some prerequisite application/s are missing
    This may happen if you are running bootstrap commands in same Console/Terminal. please close current terminal and try with another Terminal/Console window.
<a name="log"></a>
## LogFile 
   There are two types of log files are generated.
* Shipped-Install.log: contains prerequisite application installation logs
* Shipped-cli.log: contains project bootstrap related information.

<a name="usage"></a>
## Usage

`shipped [options] [command [subcommand [args]]]`

Option | Alias | Description
------ | ----- | -----------
-b | --bootlogfile | Name of file to write bootstrap log messages [default shipped-bootstrap.log] | 
-d | --debug       | Provide TRACE logging | 
-f | --full        | Show full model (all elements) in command responses | 
-h | --help        | Display help message for current command | 
-j | --json        | Output command responses in JSON format | 
-l | --logfile     | Name of file to write log messages, including TRACE messages (also SHIPPED_CLI_LOGFILE) [default shipped-cli.log] | 
-o | --output      | Comma-separated list of output field names | 
-p | --projectHome | Directory for Shipped projects (also SHIPPED_PROJECT_HOME) | 
-x | --expanded    | Include expanded descriptions in wizard workflow | 
-s | --server      | API server to access (also SHIPPED_API_SERVER) [default https://api.ciscoshipped.io] | 
-t | --token       | Shipped API authentication token (also SHIPPED_API_TOKEN) | 
-v | --version     | Show Shipped CLI version and exit | 

You must supply an API token the first time you use the shipped CLI.  After that, shipped uses the token it saved from the previous invocation, so you don't need to supply it again.  To obtain your token, navigate to the [My Profile](https://ciscoshipped.io/users/current) page in the [Shipped UI](https://ciscoshipped.io) and click on the Show My User Token button.

## Obtaining Help

Use the help command (or its equivalent -h and --help options) to access the CLI's extensive built-in help.  Some available help commands are:

Command | Description
------- | ------------
shipped help | Overview of the CLI (same information as this page)
shipped help *command* | Help on command *command*
shipped help command subcommand | Help on *subcommand* of *command*
[shipped help workflow](https://github.com/CiscoCloud/shipped-cli/blob/docs/docs/Workflow.md) | Overview of Shipped orchestrated workflow
shipped wf help *workflowName* | Help on individual workflow script *workflowName*
[shipped help default](#hints) | Context sensitivity and default values features


## References
You can open these references in a separate tab and refer to them during this Lab.
- <a href="https://developer.cisco.com/site/shipped/" target="_blank">Shipped Getting Started Guide</a>  
- <a href="https://cisco.jiveon.com/docs/DOC-811787" target="_blank">High-level view of Shipped</a> 
- <a href="https://developer.cisco.com/site/shipped/" target="_blank">Shipped User Guide</a>  
- <a href="https://ciscoshipped.io/shipped/api-docs/build/index.html" target="_blank">Shipped API Reference</a>  
- <a href="https://developer.cisco.com/site/shipped/" target="_blank">Shipped CLI Reference</a>  

 